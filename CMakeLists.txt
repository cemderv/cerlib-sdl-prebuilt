cmake_minimum_required(VERSION 3.16)

project(cerlib-sdl-prebuilt)

include(CPM.cmake)

set(BUILD_SHARED_LIBS OFF)
set(CMAKE_OSX_ARCHITECTURES "arm64;x86_64")
set(CMAKE_POSITION_INDEPENDENT_CODE ON)

CPMAddPackage(
  NAME SDL
  GITHUB_REPOSITORY libsdl-org/SDL
  GIT_TAG preview-3.1.3
  OPTIONS
  "SDL_MISC OFF"
  "SDL_OFFSCREEN OFF"
  "SDL_POWER OFF"
  "SDL_TEST OFF"
  "SDL_TESTS OFF"
  "SDL_TEST_LIBRARY OFF"
  "SDL_TEST_ENABLED_BY_DEFAULT OFF"
  "SDL_VULKAN OFF"
  "SDL_OPENGL ON"
  "SDL_OPENGLES ON"
  "SDL_RENDER_D3D OFF"
  "SDL_RENDER_METAL OFF"
  "SDL_DIRECTX OFF"
  "SDL_DISABLE_UNINSTALL ON"
  "SDL_VENDOR_INFO OFF"
  "SDL_3DNOW OFF"
  "SDL_ALTIVEC OFF"
  "SDL_CCACHE ON"
  "SDL_DUMMYVIDEO OFF"
  "SDL_WASAPI OFF"
  "SDL_ATOMIC OFF"
  "SDL_DIALOG OFF"
  "SDL_LIBUDEV OFF"
  "SDL_STATIC_VCRT OFF"
  "SDL_STATIC ON"
  "SDL_SHARED OFF"
  "SDL_GPU OFF"
  GIT_SHALLOW
  SYSTEM
)
